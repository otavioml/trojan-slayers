{% extends 'base.html' %}

{% block title %}
Resultados da pesquisa
{% endblock %}

{% block body %}
<div class="container results">
    <h2 style="text-align: center;">Resultados da pesquisa:</h2>
    <br><br>
    <h2>Livros</h2>
    <br>
    <!-- For com um card para cada livro -->
        {% if not livros %}
        <h4>Não foram encontrados livros para sua pesquisa.</h4>
        {% endif %}
        <div class="row row-mobile borderbottom" style="padding-left: 6px;">
            {% for livro in livros %}

            <div class="col-sm-3 smaller-padding cards-livros-mobile">
                <div class="card">  
                    <div class="card-body">
                        <div class="card-titulo">
                            <a class="no-dec" href="{{url_for('livros.livro_esp', _id=livro.id)}}"><p class="card-text">{{livro.title}}</p></a>
                        </div>
                        <div class="card-autor">
                            <p class="card-desc">{{livro.gender}} - {{livro.author}}</p>
                        </div>
                    </div>
                    <img src="{{url_for('static', filename='images/' + livro.cover)}}">
                    <div class="card-body">
                        <p class="card-text">{{livro.price}}</p>
                    </div>
                </div>
            </div>

            {% endfor %}


        </div>
        
    <!-- Tabela com uma row para cada sede -->
    <br>
    <h2>Sedes</h2>
    <div class="borderbottom">
        {% if not sedes %}
        <br>
        <h4>Não foram encontradas sedes para sua pesquisa.</h4>
        {% endif %}

        {% for sede in sedes %}           
        <div class="sede-mobile" {% if sede == ultima_sede %} style="border-bottom: none;" {% endif %}>
            <a class="nome-sedes" href="{{url_for('sedes.sede_especifica', _id=sede.id)}}">
                <h3>{{sede.name}}</h3>
            </a>
            <p>{{sede.address}}</p>
            <p>{{sede.contact}}</p>
            <div class="editar-excluir-sedes">
                <button type="button" class="btn btn-primary"><a href="{{url_for('sedes.editar_sede', _id=sede.id)}}">Editar</a></button></a>
                <button type="button" class="btn btn-primary excluir-sedes"><a href="{{url_for('sedes.excluir_sede', _id=sede.id)}}">Excluir</a></button>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Novidades -->
    <br>
    <h2>Novidades</h2>
    <br>
    <div class="col-sm-12 borderbottom" style="padding-left: 0px;">
        {% if not novidades %}
        <h4>Não foram encontradas novidades para sua pesquisa.</h4>
        {% endif %}
        {% for novidade in novidades %}
        <div class="novidade">
            <h4>{{novidade.title}}</h4>
            <p>{{novidade.content}}</p>
            <div class="nome-data-novidade">
                <p><strong>{{novidade.author}}, {{novidade.pub_date}}</strong></p>
                
                <a href="{{url_for('novidades.editar_novidade', _id=novidade.id)}}" class="button-link"><button type="button" class="btn btn-primary">Editar</button></a>
                <a href="{{url_for('novidades.excluir_novidade', _id=novidade.id)}}" class="button-link"><button type="button" class="btn btn-primary">Excluir</button></a>
                
            </div>
            <br class="mobile-header">
        {% endfor %}
    </div>
</div>
{% endblock %}